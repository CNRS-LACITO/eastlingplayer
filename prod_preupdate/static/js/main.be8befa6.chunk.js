(this.webpackJsonpeastlingplayer=this.webpackJsonpeastlingplayer||[]).push([[0],{47:function(t,e,n){t.exports=n(59)},52:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),o=n(15),i=n.n(o),r=(n(52),n(6)),l=n(7),p=n(9),c=n(8),d=n(83),h=n(84),m=n(19),u=n(77),y=n(78),E=n(86),T=n(79),g=n(88),O=n(13),f=function(t){Object(p.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={textTranscriptions:a.props.displayOptions.textTranscriptions.length>0?a.props.displayOptions.textTranscriptions:[],textTranslations:a.props.displayOptions.textTranslations.length>0?a.props.displayOptions.textTranslations:[],sentenceTranscriptions:a.props.displayOptions.sentenceTranscriptions.length>0?a.props.displayOptions.sentenceTranscriptions:[a.props.options.sentence.transcriptions[0]],sentenceTranslations:a.props.displayOptions.sentenceTranslations.length>0?a.props.displayOptions.sentenceTranslations:[a.props.options.sentence.translations[0]],wordTranscriptions:a.props.displayOptions.wordTranscriptions.length>0?a.props.displayOptions.wordTranscriptions:[],wordTranslations:a.props.displayOptions.wordTranslations.length>0?a.props.displayOptions.wordTranslations:[],morphemeTranscriptions:a.props.displayOptions.morphemeTranscriptions.length>0?a.props.displayOptions.morphemeTranscriptions:[],morphemeTranslations:a.props.displayOptions.morphemeTranslations.length>0?a.props.displayOptions.morphemeTranslations:[],displayNotes:a.props.displayOptions.notes,options:a.props.options,lang:a.props.displayOptions.lang,mode:a.props.displayOptions.mode,continuousPlay:a.props.displayOptions.continuousPlay},a}return Object(l.a)(n,[{key:"buildUrl",value:function(){var t=new URLSearchParams(window.location.search);t.set("optionTextTranscriptions",this.state.textTranscriptions.join("+")),t.set("optionTextTranslations",this.state.textTranslations.join("+")),t.set("optionSentenceTranscriptions",this.state.sentenceTranscriptions.join("+")),t.set("optionSentenceTranslations",this.state.sentenceTranslations.join("+")),t.set("optionWordTranscriptions",this.state.wordTranscriptions.join("+")),t.set("optionWordTranslations",this.state.wordTranslations.join("+")),t.set("optionMorphemeTranscriptions",this.state.morphemeTranscriptions.join("+")),t.set("optionMorphemeTranslations",this.state.morphemeTranslations.join("+")),t.set("optionNotes",this.state.displayNotes.join("+")),t.set("lang",this.state.lang),t.set("mode",this.state.mode),t.set("continuousPlay",this.state.continuousPlay);var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+t.toString();window.history.pushState("test","",e)}},{key:"handleTranscriptionOptions",value:function(t){if(t.target.name.length>0){var e,n=t.target.name.split("-"),a=[n[0]]+"Transcriptions",s=this.state[[n[0]]+"Transcriptions"];console.log(a);var o=t.target.name.split(n[0]+"-"),i=s.indexOf(o[1]);if(i>-1)s.splice(i,1),console.log(s),console.log(this.state),document.querySelectorAll(".transcription."+t.target.name).forEach((function(t){t.style.display="none"}));else{s.push(o[1]);var r=this.props.isWordList;document.querySelectorAll(".transcription."+t.target.name).forEach((function(t){t.style.display=r?"table-cell":"block"}))}this.setState((e={},Object(m.a)(e,n[0]+"Transcriptions",s),Object(m.a)(e,"options",this.state.options),e),this.buildUrl()),console.log(this.state)}}},{key:"handleTranslationOptions",value:function(t){if(t.target.name.length>0){var e=t.target.name.split("-"),n=this.state[[e[0]]+"Translations"],a=t.target.name.split(e[0]+"-"),s=n.indexOf(a[1]);if(s>-1)n.splice(s,1),document.querySelectorAll(".translation."+t.target.name).forEach((function(t){t.style.display="none"}));else{n.push(a[1]);var o=this.props.isWordList;document.querySelectorAll(".translation."+t.target.name).forEach((function(t){t.style.display=o?"table-cell":"block"}))}this.setState(Object(m.a)({},e[0]+"Translations",n),this.buildUrl())}}},{key:"handleNotesOptions",value:function(t){if(t.target.name.length>0){var e=this.state.displayNotes,n=e.indexOf(t.target.name);n>-1?(e.splice(n,1),document.querySelectorAll(".note."+t.target.name).forEach((function(t){t.style.display="none"}))):(e.push(t.target.name),document.querySelectorAll(".note."+t.target.name).forEach((function(t){t.style.display="block"})),document.querySelectorAll("sup.note."+t.target.name).forEach((function(t){t.style.display="inline-block"}))),this.setState({displayNotes:e},this.buildUrl())}}},{key:"handleCheck",value:function(t){t.target.name.length>0&&this.setState(Object(m.a)({},t.target.name,t.target.checked),this.buildUrl())}},{key:"render",value:function(){var t=this;return this.buildUrl(),s.a.createElement("div",null,s.a.createElement("h2",null,s.a.createElement(O.b,{text:"Display options"})),s.a.createElement(u.a,{row:!0},s.a.createElement("div",{className:"optionContinuousPlay",hidden:0===this.state.continuousPlay.length},s.a.createElement(y.a,{key:"continuousPlay",labelPlacement:"start",control:s.a.createElement(E.a,{checked:!0===this.state.continuousPlay,onChange:this.handleCheck.bind(this),name:"continuousPlay"}),label:s.a.createElement(O.b,{text:"Continuous play"})}))),s.a.createElement(T.a,null),s.a.createElement(u.a,{row:!0},s.a.createElement("div",{className:"optionTransc",hidden:0===this.state.options.text.transcriptions.length},s.a.createElement(g.a,{component:"legend"},s.a.createElement(O.b,{text:"Text transcription"})),s.a.createElement(u.a,null,this.state.options.text.transcriptions.map((function(e){return s.a.createElement(y.a,{key:"textTranscription"+e,control:s.a.createElement(E.a,{checked:t.state.textTranscriptions.includes(e),onChange:t.handleTranscriptionOptions.bind(t),name:"text-"+e}),label:e})})))),s.a.createElement("div",{className:"optionTransl",hidden:0===this.state.options.text.translations.length},s.a.createElement(g.a,{component:"legend"},s.a.createElement(O.b,{text:"Text translation"})),s.a.createElement(u.a,null,this.state.options.text.translations.map((function(e){return s.a.createElement(y.a,{key:"textTranslation"+e,control:s.a.createElement(E.a,{checked:t.state.textTranslations.includes(e),onChange:t.handleTranslationOptions.bind(t),name:"text-"+e}),label:e})})))),s.a.createElement("div",{className:"optionTransc",hidden:0===this.state.options.sentence.transcriptions.length},s.a.createElement(g.a,{component:"legend"},s.a.createElement(O.b,{text:"Sentence transcription"})),s.a.createElement(u.a,null,this.state.options.sentence.transcriptions.map((function(e){return s.a.createElement(y.a,{key:"sentenceTranscription"+e,control:s.a.createElement(E.a,{checked:t.state.sentenceTranscriptions.includes(e),onChange:t.handleTranscriptionOptions.bind(t),name:"sentence-"+e}),label:e})})))),s.a.createElement("div",{className:"optionTransl",hidden:0===this.state.options.sentence.translations.length},s.a.createElement(g.a,{component:"legend"},s.a.createElement(O.b,{text:"Sentence translation"})),s.a.createElement(u.a,null,this.state.options.sentence.translations.map((function(e){return s.a.createElement(y.a,{key:"textTranslation"+e,control:s.a.createElement(E.a,{checked:t.state.sentenceTranslations.includes(e),onChange:t.handleTranslationOptions.bind(t),name:"sentence-"+e}),label:e})})))),s.a.createElement("div",{className:"optionTransc",hidden:0===this.state.options.word.transcriptions.length},s.a.createElement(g.a,{component:"legend"},s.a.createElement(O.b,{text:"Word transcription"})),s.a.createElement(u.a,null,this.state.options.word.transcriptions.map((function(e){return s.a.createElement(y.a,{key:"wordTranscription"+e,control:s.a.createElement(E.a,{checked:t.state.wordTranscriptions.includes(e),onChange:t.handleTranscriptionOptions.bind(t),name:"word-"+e}),label:e})})))),s.a.createElement("div",{className:"optionTransl",hidden:0===this.state.options.word.translations.length},s.a.createElement(g.a,{component:"legend"},s.a.createElement(O.b,{text:"Word translation"})),s.a.createElement(u.a,null,this.state.options.word.translations.map((function(e){return s.a.createElement(y.a,{key:"wordTranslation"+e,control:s.a.createElement(E.a,{checked:t.state.wordTranslations.includes(e),onChange:t.handleTranslationOptions.bind(t),name:"word-"+e}),label:e})})))),s.a.createElement("div",{className:"optionTransc",hidden:0===this.state.options.morpheme.transcriptions.length},s.a.createElement(g.a,{component:"legend"},s.a.createElement(O.b,{text:"Morpheme transcription"})),s.a.createElement(u.a,null,this.state.options.morpheme.transcriptions.map((function(e){return s.a.createElement(y.a,{key:"morphemeTranscription"+e,control:s.a.createElement(E.a,{checked:t.state.morphemeTranscriptions.includes(e),onChange:t.handleTranscriptionOptions.bind(t),name:"morpheme-"+e}),label:e})})))),s.a.createElement("div",{className:"optionTransl",hidden:0===this.state.options.morpheme.translations.length},s.a.createElement(g.a,{component:"legend"},s.a.createElement(O.b,{text:"Morpheme translation"})),s.a.createElement(u.a,null,this.state.options.morpheme.translations.map((function(e){return s.a.createElement(y.a,{key:"morphemeTranslation"+e,control:s.a.createElement(E.a,{checked:t.state.morphemeTranslations.includes(e),onChange:t.handleTranslationOptions.bind(t),name:"morpheme-"+e}),label:e})})))),s.a.createElement("div",{className:"optionNotes",hidden:0===this.state.options.note.translations.length},s.a.createElement(g.a,{component:"legend"},"Notes"),s.a.createElement(u.a,null,this.state.options.note.translations.map((function(e){return s.a.createElement(y.a,{key:"note"+e,control:s.a.createElement(E.a,{checked:t.state.displayNotes.includes(e),onChange:t.handleNotesOptions.bind(t),name:e}),label:e})}))))))}}]),n}(s.a.Component),v=function(t){Object(p.a)(n,t);var e=Object(c.a)(n);function n(t){return Object(r.a)(this,n),e.call(this,t)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=document.createElement("script");t.type="text/javascript";t.innerHTML="var wordidList=[];var startTimeList=[];var endTimeList=[];var timeList=[];document.getElementById('player').ontimeupdate=function(){updatePosition(this.currentTime)};",this.instance.appendChild(t),window.highlight=function(t,e){"S"!==e&&(document.querySelectorAll('canvas:not([wordid=""]').forEach((function(t){t.style.border="none"})),document.querySelectorAll('[wordid="'+t+'"]').forEach((function(t){t.style.border="solid"})),document.querySelectorAll(".WORD").forEach((function(t){t.style.border="none"})),document.querySelector("#"+t).style.border="solid")},window.updatePosition=function(t){var e=window.timeList.find((function(e){return e.start<t&&e.end>t}));if(void 0!==e){var n=window.isWordList?e.word:e.sentence;if(window.currentSentence!==n&&(void 0!==window.currentSentence&&document.getElementById(window.currentSentence).classList.remove("currentSentence"),n)){document.getElementById(n).classList.add("currentSentence"),window.currentSentence=n;var a=new Event("sentence-changed");document.dispatchEvent(a),document.getElementById(n).scrollIntoView({block:"center"})}}var s,o=window.timeList.find((function(e){return e.start<t&&e.end>t&&"S"!==e.type}));void 0===o||window.isWordList||window.highlight(null!==(s=o.morpheme)&&void 0!==s?s:o.word,o.type)},this.props.playerIsLoaded()}},{key:"render",value:function(){var t,e=this,n={width:"80%"};return t="audio"===this.props.file.type?s.a.createElement("audio",{ref:function(t){return e.audio=t},id:"player",controls:!0,preload:"auto",style:n},s.a.createElement("source",{src:this.props.file.url,type:"audio/mpeg"}),s.a.createElement("track",{label:"Transcription & Translation",id:"test"}),s.a.createElement("track",{label:"Transcription",id:"trackTranscription"}),s.a.createElement("track",{label:"Translation",id:"trackTranslation"}),"Your browser does not support the",s.a.createElement("code",null,"audio")," element."):s.a.createElement("video",{ref:function(t){return e.video=t},id:"player",controls:!0,preload:"auto",style:n},s.a.createElement("source",{src:this.props.file.url,type:"video/mp4"}),s.a.createElement("track",{label:"Transcription & Translation",id:"test"}),s.a.createElement("track",{label:"Transcription",id:"trackTranscription"}),s.a.createElement("track",{label:"Translation",id:"trackTranslation"}),"Your browser does not support the",s.a.createElement("code",null,"video")," element."),s.a.createElement("div",{ref:function(t){return e.instance=t}},t)}}]),n}(s.a.Component),w=function(t){Object(p.a)(n,t);var e=Object(c.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.querySelectorAll(".pictureBlock canvas").forEach((function(t){t.onmouseover=function(){window.highlight(this.attributes.wordid.nodeValue,"W")}}))}},{key:"render",value:function(){var t=this.props.area.coords.split(","),e=t[3]-t[1],n=t[2]-t[0],a="#map_"+this.props.sentenceId,o="-"+t[0]+"px -"+t[1]+"px",i={"background-position":o,width:n+"px",height:e+"px",padding:"0px",border:"0px","object-fit":"none","object-position":o,"max-width":"inherit !important"};return s.a.createElement("div",{class:"pictureBlock"},s.a.createElement("div",{sentenceId:this.props.sentenceId,style:{position:"relative",textAlign:"initial"}},s.a.createElement("img",{alt:this.props.imageSrc,src:this.props.imageSrc,style:i,width:n,height:e,usemap:a}),s.a.createElement("div",null,this.props.canvas)))}}]),n}(s.a.Component),b=n(27),N=n(60),x=n(87),k=n(85),S=function(t){Object(p.a)(n,t);var e=Object(c.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{class:"note ".concat(this.props.lang),hidden:this.props.hidden},s.a.createElement("span",{class:"circle"},this.props.id),this.props.note)}}]),n}(s.a.Component),A=n(80),L=n(81),R=function(t){Object(p.a)(n,t);var e=Object(c.a)(n);function n(t){var a,s;return Object(r.a)(this,n),(s=e.call(this,t)).handleClick=function(t){s.setState({anchorEl:t.currentTarget,open:!0}),t.currentTarget.id.length>0&&(document.querySelectorAll("canvas").forEach((function(t){return t.style.border="none"})),document.querySelector('[wordid="'+t.currentTarget.id+'"]').style.border="solid")},s.handleClose=function(){s.setState({anchorEl:null,open:!1}),document.querySelectorAll("canvas").forEach((function(t){return t.style.border="none"}))},s.state={anchorEl:null,open:!1},s.idNote=null!==(a=s.props.idNote-1)&&void 0!==a?a:1,s}return Object(l.a)(n,[{key:"playSentence",value:function(){document.getElementById("player").currentTime=this.props.w.AUDIO.start,document.getElementById("player").play()}},{key:"pauseSentence",value:function(){document.getElementById("player").pause()}},{key:"getNotes",value:function(t,e){var n=this;void 0!==t.NOTE&&null!==t.NOTE&&(void 0===t.NOTE.length?(e.push({id:this.idNote,note:t.NOTE.message+t.NOTE.text,hidden:!this.props.displayOptions.notes.includes(t.NOTE["xml:lang"]),lang:t.NOTE["xml:lang"]}),this.idNote++):t.NOTE.forEach((function(t){e.push({id:n.idNote,note:t.message+t.text,hidden:!n.props.displayOptions.notes.includes(t["xml:lang"]),lang:t["xml:lang"]}),n.idNote++})))}},{key:"render",value:function(){var t=this,e=[],n=[],a=[],o=[],i=!1,r="";return void 0!==this.props.w.TRANSL&&null!==this.props.w.TRANSL&&(void 0===this.props.w.TRANSL.length?(i=this.props.displayOptions.morphemeTranslations.includes(this.props.w.TRANSL["xml:lang"]),r=!0===this.props.isWordList?"wordlistWord":"morpheme",n.push(s.a.createElement(N.a,{variant:"body2",component:!0===this.props.isWordList?"div":"p",style:i?{visibility:"inherit"}:{display:"none"},className:"translation ".concat(r," morpheme-").concat(this.props.w.TRANSL["xml:lang"])},this.props.w.TRANSL.text))):this.props.w.TRANSL.forEach((function(e){i=t.props.displayOptions.morphemeTranslations.includes(e["xml:lang"]),r=!0===t.props.isWordList?"wordlistWord":"morpheme",n.push(s.a.createElement(N.a,{variant:"body2",component:!0===t.props.isWordList?"div":"p",style:i?{visibility:"inherit"}:{display:"none"},className:"translation ".concat(r," morpheme-").concat(e["xml:lang"])},e.text))}))),this.getNotes(this.props.w,o),o.forEach((function(t){a.push(s.a.createElement(S,{id:t.id,note:t.note,hidden:t.hidden,lang:t.lang}))})),void 0!==this.props.w.FORM&&null!==this.props.w.FORM&&(void 0===this.props.w.FORM.length?(i=this.props.displayOptions.morphemeTranscriptions.includes(this.props.w.FORM.kindOf),r=!0===this.props.isWordList?"wordlistWord":"morpheme",e.push(s.a.createElement(N.a,{variant:"body2",component:"p",style:i?{visibility:"inherit"}:{display:"none"},className:"transcription ".concat(r," morpheme-").concat(this.props.w.FORM.kindOf)},this.props.w.FORM.text,o.map((function(t){return s.a.createElement("sup",{class:"circle note "+t.lang},t.id)})))),this.props.w.FORM.text):(this.props.w.FORM.forEach((function(n){i=t.props.displayOptions.morphemeTranscriptions.includes(n.kindOf),r=!0===t.props.isWordList?"wordlistWord":"morpheme",e.push(s.a.createElement(N.a,{variant:"body2",component:"p",className:"transcription ".concat(r," morpheme-").concat(n.kindOf)},n.text,o.map((function(t){return s.a.createElement("sup",{class:"circle note "+t.lang},t.id)}))))})),this.props.w.FORM[0].text)),s.a.createElement("div",{id:this.props.w.id,className:"MORPHEME ".concat(this.props.w.hasOwnProperty("class")?this.props.w.class:""),style:!0===this.props.isWordList?{}:{display:"inline-block"},ref:function(e){return t.instance=e}},!0===this.props.isWordList?s.a.createElement("div",{style:{display:"table"}},s.a.createElement("div",{style:{display:"table-cell"}},"W",this.props.wID),s.a.createElement("div",{style:{display:"table-cell"},id:this.props.w.id,hidden:!this.props.displayOptions.words},s.a.createElement(k.a,{color:"primary","aria-label":"play",onClick:this.playSentence.bind(this)},s.a.createElement(A.a,null)),s.a.createElement(k.a,{color:"primary","aria-label":"play",onClick:this.pauseSentence.bind(this)},s.a.createElement(L.a,null))),s.a.createElement("div",{style:{display:"table-cell",width:"12em"},class:"morpheme",id:this.props.w.id,hidden:!this.props.displayOptions.words},e),n,s.a.createElement("div",{style:{display:"table-cell"}},a)):s.a.createElement("div",null,s.a.createElement("p",null,e),s.a.createElement("p",null,n)))}}]),n}(s.a.Component),M=function(t){Object(p.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).showPlayPause=function(t){a.setState({displayPlay:document.getElementById("player").paused})},a.state={displayPlay:document.getElementById("player").paused,duration:1e3*(a.props.end-a.props.start)},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.getElementById("player").addEventListener("pause",this.showPlayPause),document.getElementById("player").addEventListener("playing",this.showPlayPause)}},{key:"playPause",value:function(){var t=document.getElementById("player");t.paused?(t.currentTime=this.props.start,t.play(),document.getElementsByName("continuousPlay")[0].checked||setTimeout((function(){t.pause()}),this.state.duration)):t.pause(),this.setState({displayPlay:t.paused})}},{key:"render",value:function(){return s.a.createElement(k.a,{color:"primary","aria-label":"play",onClick:this.playPause.bind(this)},s.a.createElement(A.a,{style:{display:this.state.displayPlay?"block":"none"}}),s.a.createElement(L.a,{style:{display:this.state.displayPlay?"none":"block"}}))}}]),n}(s.a.Component),W=function(t){Object(p.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).handleClick=function(t){a.setState({anchorEl:t.currentTarget,open:!0}),t.currentTarget.id.length>0&&(document.querySelectorAll("canvas").forEach((function(t){return t.style.border="none"})),document.querySelector('[wordid="'+t.currentTarget.id+'"]').style.border="solid")},a.handleClose=function(){a.setState({anchorEl:null,open:!1}),document.querySelectorAll("canvas").forEach((function(t){return t.style.border="none"}))},a.state={anchorEl:null,open:!1},a.idNote=isNaN(a.props.idNote)?1:a.props.idNote-1,a}return Object(l.a)(n,[{key:"highlight",value:function(){window.highlight(this.props.w.id,"W")}},{key:"getNotes",value:function(t,e){var n=this;void 0!==t.NOTE&&null!==t.NOTE&&(void 0===t.NOTE.length?(e.push({id:this.idNote,note:t.NOTE.message+t.NOTE.text,hidden:!this.props.displayOptions.notes.includes(t.NOTE["xml:lang"]),lang:t.NOTE["xml:lang"]}),this.idNote++):t.NOTE.forEach((function(t){e.push({id:n.idNote,note:t.message+t.text,hidden:!n.props.displayOptions.notes.includes(t["xml:lang"]),lang:t["xml:lang"]}),n.idNote++})))}},{key:"render",value:function(){var t=this;this.idNote=isNaN(this.props.idNote)?1:this.props.idNote-1;var e,n=[],a=[],o=[],i=[],r=Boolean(this.state.anchorEl),l=r?"simple-popper":void 0,p=!1,c="",d={},h={visibility:"inherit"},m={display:"none"},u=Object(b.a)(Object(b.a)({},d),h),y=Object(b.a)(Object(b.a)({},d),m);(void 0!==this.props.w.TRANSL&&null!==this.props.w.TRANSL&&(void 0===this.props.w.TRANSL.length?(p=this.props.displayOptions.wordTranslations.includes(this.props.w.TRANSL["xml:lang"]),c=!0===this.props.isWordList?"wordlistWord":"word",!0===this.props.isWordList?this.props.availableOptions.word.translations.forEach((function(e){e===t.props.w.TRANSL["xml:lang"]?a.push(s.a.createElement(N.a,{variant:"body2",component:"td",style:p?u:y,className:"translation ".concat(c," word-").concat(t.props.w.TRANSL["xml:lang"])},t.props.w.TRANSL.text)):a.push(s.a.createElement(N.a,{variant:"body2",component:"td",style:p?u:y,className:"translation ".concat(c," word-").concat(t.props.w.TRANSL["xml:lang"])}))})):a.push(s.a.createElement(N.a,{variant:"body2",component:"p",style:p?h:m,className:"translation ".concat(c," word-").concat(this.props.w.TRANSL["xml:lang"])},this.props.w.TRANSL.text))):!0===this.props.isWordList?this.props.availableOptions.word.translations.forEach((function(e){var n=!1;p=t.props.displayOptions.wordTranslations.includes(e),c="wordlistWord",t.props.w.TRANSL.forEach((function(t){e===t["xml:lang"]&&(n=!0,a.push(s.a.createElement(N.a,{variant:"body2",component:"td",style:p?u:y,className:"translation ".concat(c," word-").concat(t["xml:lang"])},t.text)))})),!1===n&&a.push(s.a.createElement(N.a,{variant:"body2",component:"td",style:p?u:y,className:"translation ".concat(c," word-").concat(e)}))})):this.props.w.TRANSL.forEach((function(e){p=t.props.displayOptions.wordTranslations.includes(e["xml:lang"]),c="word",a.push(s.a.createElement(N.a,{variant:"body2",component:"p",style:p?h:m,className:"translation ".concat(c," word-").concat(e["xml:lang"])},e.text))}))),this.getNotes(this.props.w,i),i.forEach((function(t){o.push(s.a.createElement(S,{id:t.id,note:t.note,hidden:t.hidden,lang:t.lang}))})),void 0!==this.props.w.FORM&&null!==this.props.w.FORM)&&(void 0===this.props.w.FORM.length?(p=this.props.displayOptions.wordTranscriptions.includes(this.props.w.FORM.kindOf),c=!0===this.props.isWordList?"wordlistWord":"word",e=p?!0===this.props.isWordList?u:h:!0===this.props.isWordList?y:m,n.push(s.a.createElement(N.a,{variant:"body2",component:!0===this.props.isWordList?"td":"p",style:e,className:"transcription ".concat(c," word-").concat(this.props.w.FORM.kindOf)},this.props.w.FORM.text,i.map((function(e){return s.a.createElement("sup",{style:{display:t.props.displayOptions.notes.includes(e.lang)?"inline-block":"none"},className:"circle note "+e.lang},e.id)})))),this.props.w.FORM.text):(this.props.w.FORM.forEach((function(e){var a;p=t.props.displayOptions.wordTranscriptions.includes(e.kindOf),c=!0===t.props.isWordList?"wordlistWord":"word",a=p?!0===t.props.isWordList?u:h:!0===t.props.isWordList?y:m,n.push(s.a.createElement(N.a,{variant:"body2",component:!0===t.props.isWordList?"td":"p",style:a,className:"transcription ".concat(c," word-").concat(e.kindOf)},e.text,i.map((function(e){return s.a.createElement("sup",{style:{display:t.props.displayOptions.notes.includes(e.lang)?"inline-block":"none"},className:"circle note "+e.lang},e.id)}))))})),this.props.w.FORM[0].text));var E=[];return void 0!==this.props.w.M&&null!==this.props.w.M&&(this.props.w.M.length>0?this.props.w.M.forEach((function(e){E.push(s.a.createElement(R,{w:e,displayOptions:t.props.displayOptions,idNote:t.idNote}))})):E.push(s.a.createElement(R,{w:this.props.w.M,displayOptions:this.props.displayOptions,idNote:this.idNote}))),!0===this.props.isWordList?s.a.createElement("tr",{id:this.props.w.id,className:"WORD",style:d,ref:function(e){return t.instance=e}},s.a.createElement("td",{style:d},this.props.w.id,s.a.createElement(k.a,{"aria-describedby":l,onClick:function(e){t.setState({anchorEl:t.state.anchorEl?null:e.currentTarget})},id:"btn_doi_W"+this.props.sID},s.a.createElement("img",{className:"doi",src:"/dist/images/DOI_logo.svg",alt:"doi"})),s.a.createElement(x.a,{id:"doi_W"+this.props.sID,open:r,anchorEl:this.state.anchorEl,test:document.getElementById("btn_doi_W"+this.props.sID)},s.a.createElement("div",null,this.props.doi)),this.props.w.hasOwnProperty("AUDIO")?s.a.createElement(M,{continuousPlay:this.props.displayOptions.continuousPlay,start:this.props.w.AUDIO?this.props.w.AUDIO.start:0,end:this.props.w.AUDIO?this.props.w.AUDIO.end:0,isWordList:!0}):s.a.createElement("div",null)),s.a.createElement(s.a.Fragment,null,n,E,a),s.a.createElement("td",{className:"notes"},o)):s.a.createElement("div",{id:this.props.w.id,onMouseOver:this.highlight.bind(this),className:"WORD ".concat(this.props.w.hasOwnProperty("class")?this.props.w.class:""),style:!0===this.props.isWordList?{}:{display:"inline-block"},ref:function(e){return t.instance=e}},s.a.createElement("div",null,s.a.createElement("div",{className:"transcBlock"},n),s.a.createElement("div",{className:"morphemesBlock"},E),s.a.createElement("div",{className:"translBlock"},a)))}}]),n}(s.a.Component),I=n(89),P=n(82),j=n(90),F=n(41),D=n.n(F),C=function(t){Object(p.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={displayOptions:a.props.displayOptions,notes:null,anchorEl:null},a.idNote=1,a}return Object(l.a)(n,[{key:"getNotes",value:function(t,e){var n=this;void 0!==t.NOTE&&null!==t.NOTE&&(void 0===t.NOTE.length?(e.push({id:this.idNote,note:t.NOTE.message+t.NOTE.text,hidden:!this.props.displayOptions.notes.includes(t.NOTE["xml:lang"]),lang:t.NOTE["xml:lang"]}),this.idNote++):t.NOTE.forEach((function(t){e.push({id:n.idNote,note:t.message+t.text,hidden:!n.props.displayOptions.notes.includes(t["xml:lang"]),lang:t["xml:lang"]}),n.idNote++})))}},{key:"render",value:function(){var t=this;this.idNote=1;var e=[],n=[],a=[],o=[],i=[],r=Boolean(this.state.anchorEl),l=r?"simple-popper":void 0;if(null!==this.props.s.TRANSL&&void 0!==this.props.s.TRANSL&&(void 0===this.props.s.TRANSL.length?n.push(s.a.createElement(N.a,{hidden:!this.props.displayOptions.sentenceTranslations.includes(this.props.s.TRANSL["xml:lang"]),variant:"body2",component:"p",className:"translation sentence-".concat(this.props.s.TRANSL["xml:lang"])},s.a.createElement("b",null,this.props.s.TRANSL.text))):this.props.s.TRANSL.forEach((function(e){n.push(s.a.createElement(N.a,{hidden:!t.props.displayOptions.sentenceTranslations.includes(e["xml:lang"]),variant:"body2",component:"p",className:"translation sentence-".concat(e["xml:lang"])},s.a.createElement("b",null,e.text)))}))),this.getNotes(this.props.s,a),void 0!==this.props.s.FORM&&null!==this.props.s.FORM&&(void 0===this.props.s.FORM.length?e.push(s.a.createElement(N.a,{hidden:!this.props.displayOptions.sentenceTranscriptions.includes(this.props.s.FORM.kindOf),variant:"body2",component:"p",className:"transcription sentence-".concat(this.props.s.FORM.kindOf)},s.a.createElement("b",null,this.props.s.who," : ",this.props.s.FORM.text),a.map((function(e){return s.a.createElement("sup",{style:{display:t.props.displayOptions.notes.includes(e.lang)?"inline-block":"none"},className:"circle note "+e.lang},e.id)})))):this.props.s.FORM.forEach((function(n){e.push(s.a.createElement(N.a,{hidden:!t.props.displayOptions.sentenceTranscriptions.includes(n.kindOf),variant:"body2",component:"p",className:"transcription sentence-".concat(n.kindOf)},s.a.createElement("b",null,t.props.s.who," : ",n.text),a.map((function(e){return s.a.createElement("sup",{style:{display:t.props.displayOptions.notes.includes(e.lang)?"inline-block":"none"},className:"circle note "+e.lang},e.id)}))))}))),void 0!==this.props.s.AREA&&null!==this.props.s.AREA)var p=this.props.s.AREA.coords.split(","),c=p[0],d=p[1];void 0!==this.props.s.W&&null!==this.props.s.W&&Array.isArray(this.props.s.W)&&this.props.s.W.forEach((function(e){if(void 0!==e.M&&null!==e.M){var n,r=[];e.M.length>0?(e.M.forEach((function(n){t.getNotes(n,a),r.push(s.a.createElement(R,{wID:e.id,w:n,displayOptions:t.props.displayOptions,idNote:t.idNote}))})),n=s.a.createElement(W,{sID:t.props.s.id,w:e,displayOptions:t.props.displayOptions,idNote:t.idNote}),o.push(n)):(t.getNotes(e.M,a),r.push(s.a.createElement(R,{wID:e.id,w:e.M,displayOptions:t.props.displayOptions,idNote:t.idNote})),n=s.a.createElement(W,{sID:t.props.s.id,w:e,displayOptions:t.props.displayOptions,idNote:t.idNote}),o.push(n))}else if(t.getNotes(e,a),o.push(s.a.createElement(W,{sID:t.props.s.id,w:e,displayOptions:t.props.displayOptions,idNote:t.idNote})),void 0!==e.AREA&&null!==e.AREA){var l=e.AREA.coords.split(",");l[0]-=c,l[1]-=d,l[2]-=c,l[3]-=d;var p={position:"absolute",top:l[1],left:l[0]},h="";h=void 0===e.FORM.length?e.FORM.text:e.FORM[0].text,i.push(s.a.createElement("canvas",{title:h,style:p,wordid:e.id,width:l[2]-l[0],height:l[3]-l[1],onClick:function(){return document.getElementById(e.id).click()}}))}}));var h=[];a.forEach((function(t){h.push(s.a.createElement(S,{id:t.id,note:t.note,hidden:t.hidden,lang:t.lang}))}));var m={backgroundColor:D.a[800],display:"inline-flex"};return s.a.createElement("div",{id:this.props.s.id,className:"SENTENCE",ref:function(e){return t.instance=e}},s.a.createElement(I.a,null,s.a.createElement(P.a,null,void 0!==this.props.s.AREA?s.a.createElement(w,{sentenceId:this.props.s.id,imageSrc:this.props.imageSrc,canvas:i,area:this.props.s.AREA}):s.a.createElement("div",null),s.a.createElement("div",{style:{textAlign:"initial"},className:"annotationsBlock"},s.a.createElement(j.a,{"aria-label":"sentenceId",style:m},this.props.s.id),s.a.createElement(k.a,{"aria-describedby":l,onClick:function(e){t.setState({anchorEl:t.state.anchorEl?null:e.currentTarget})},id:"btn_doi_"+this.props.s.id},s.a.createElement("img",{className:"doi",src:"/dist/images/DOI_logo.svg",alt:"doi"})),s.a.createElement(x.a,{id:"doi_"+this.props.s.id,open:r,anchorEl:this.state.anchorEl,test:document.getElementById("btn_doi_"+this.props.s.id)},s.a.createElement("div",null,this.props.doi)),this.props.s.hasOwnProperty("AUDIO")?s.a.createElement(M,{continuousPlay:this.state.displayOptions.continuousPlay,start:this.props.s.AUDIO?this.props.s.AUDIO.start:0,end:this.props.s.AUDIO?this.props.s.AUDIO.end:0,id:this.props.s.id}):s.a.createElement("div",null),s.a.createElement("div",{className:"transcBlock",style:{display:"inline-block"}},e),s.a.createElement("div",{className:"wordsBlock"},o),s.a.createElement("div",{className:"translBlock"},n),s.a.createElement("div",{className:"notesBlock"},h)))))}}]),n}(s.a.Component),U=function(t){Object(p.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={isLoaded:!1,annotationData:[],displayOptions:a.props.displayOptions,availableOptions:a.props.availableOptions,isWordList:!1},a}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){window.timeList=this.props.timeList}},{key:"render",value:function(){var t,e,n,a=this,o=[],i=[],r=[],l=[],p=!1,c="",h=this.props.doi,m=0,u=document.querySelector("#player");if(null!==u&&(t=u.textTracks.getTrackById("test"),e=u.textTracks.getTrackById("trackTranscription"),n=u.textTracks.getTrackById("trackTranslation"),t.mode="showing",e.mode="showing",n.mode="showing"),void 0!==this.props.annotations.TEXT&&null!==this.props.annotations.TEXT)var y=this.props.annotations.TEXT.S;if(void 0!==this.props.annotations.WORDLIST&&null!==this.props.annotations.WORDLIST)var E=this.props.annotations.WORDLIST.W;return null!==y&&void 0!==y&&y.forEach((function(i){void 0!==i.AREA&&void 0!==i.AREA.image&&a.props.images.forEach((function(t){t.id.split(".version")[0]===i.AREA.image&&(c=t.url)})),m++;var r=h+"#"+i.id;if(null!==u&&e.cues.length<y.length){var l="",p="";"object"===typeof i.FORM?null!==i.FORM&&(l=i.FORM.text):null!==i.FORM[0].text&&(l=i.FORM[0].text),null!==i.TRANSL&&("object"===typeof i.TRANSL?null!==i.TRANSL&&(p=i.TRANSL.text):null!==i.TRANSL[0].text&&(p=i.TRANSL[0].text));var d=void 0!==i.AUDIO?i.AUDIO.start:0,E=void 0!==i.AUDIO?i.AUDIO.end:0,T=new VTTCue(d,E,l),g=new VTTCue(d,E,p);T.size=99,g.size=99,T.line=12,g.line=14,t.addCue(T),t.addCue(g),e.addCue(T),n.addCue(g)}o.push(s.a.createElement(C,{doi:r,sID:m,s:i,imageSrc:c,displayOptions:a.state.displayOptions}))})),null!==E&&void 0!==E&&Array.isArray(E)&&(p=!0,this.setState({isWordList:!0}),E.forEach((function(t){if(void 0!==t.M&&null!==t.M)t.M.length>0?t.M.forEach((function(t){o.push(s.a.createElement(R,{w:t,wID:++m,displayOptions:a.props.displayOptions,isWordList:!0}))})):o.push(s.a.createElement(R,{w:t.M,wID:++m,displayOptions:a.props.displayOptions,isWordList:!0}));else{++m;var e=h+"#W"+m;o.push(s.a.createElement(W,{w:t,wID:m,displayOptions:a.props.displayOptions,availableOptions:a.props.availableOptions,isWordList:!0,doi:e}))}}))),void 0!==this.props.annotations.TEXT.FORM&&null!==this.props.annotations.TEXT.FORM&&(void 0===this.props.annotations.TEXT.FORM.length?i.push(s.a.createElement(N.a,{hidden:!this.props.displayOptions.textTranscriptions||!this.props.displayOptions.textTranscriptions.includes(this.props.annotations.TEXT.FORM.kindOf),variant:"body2",component:"p",className:"text-"+this.props.annotations.TEXT.FORM.kindOf+" transcription"},this.props.annotations.TEXT.FORM.text)):this.props.annotations.TEXT.FORM.forEach((function(t){i.push(s.a.createElement(N.a,{key:"textForm"+t.kindOf,hidden:!a.props.displayOptions.textTranscriptions||!a.props.displayOptions.textTranscriptions.includes(t.kindOf),variant:"body2",component:"p",className:"text-"+t.kindOf+" transcription"},t.text))}))),null!==this.props.annotations.TEXT.TRANSL&&void 0!==this.props.annotations.TEXT.TRANSL&&(void 0===this.props.annotations.TEXT.TRANSL.length?r.push(s.a.createElement(N.a,{hidden:!this.props.displayOptions.textTranslations.includes(this.props.annotations.TEXT.TRANSL["xml:lang"]),variant:"body2",component:"p",className:"translation text-".concat(this.props.annotations.TEXT.TRANSL["xml:lang"])},this.props.annotations.TEXT.TRANSL.text)):this.props.annotations.TEXT.TRANSL.forEach((function(t){r.push(s.a.createElement(N.a,{hidden:!a.props.displayOptions.textTranslations.includes(t["xml:lang"]),variant:"body2",component:"p",className:"translation text-".concat(t["xml:lang"])},t.text))}))),void 0!==this.props.annotations.TEXT.NOTE&&null!==this.props.annotations.TEXT.NOTE&&(void 0===this.props.annotations.TEXT.NOTE.length?l.push(s.a.createElement(N.a,{hidden:!this.props.displayOptions.notes.includes(this.props.annotations.TEXT.NOTE["xml:lang"]),variant:"body2",component:"p",className:"note ".concat(this.props.annotations.TEXT.NOTE["xml:lang"])},this.props.annotations.TEXT.NOTE.message)):this.props.annotations.TEXT.NOTE.forEach((function(t){l.push(s.a.createElement(N.a,{hidden:!a.props.displayOptions.notes.includes(t["xml:lang"]),variant:"body2",component:"p",className:"note ".concat(t["xml:lang"])},t.message))}))),s.a.createElement("div",{ref:function(t){return a.instance=t}},s.a.createElement("div",{className:"TEXT"},s.a.createElement(d.a,{fixed:!0,id:"documentTranscriptionsBlock"},i),s.a.createElement(d.a,{fixed:!0,id:"documentTranslationsBlock"},r),s.a.createElement(d.a,{fixed:!0,id:"documentNotesBlock"},l)),s.a.createElement(d.a,{fixed:!0,id:"documentAnnotationsBlock"},p?s.a.createElement("table",null,o):o),"pdf"===this.props.extensionFile&&s.a.createElement(d.a,null,s.a.createElement("object",{data:this.props.urlFile.replace("http:","https:"),type:"application/pdf",width:"100%",height:"500px"},s.a.createElement("embed",{src:this.props.urlFile.replace("http:","https:"),type:"application/pdf"}))),"image"===this.props.type&&"image"===this.props.format&&s.a.createElement(d.a,null,s.a.createElement("img",{src:this.props.urlFile.replace("http:","https:")})))}}]),n}(s.a.Component),B=(n(58),"https://eastling.huma-num.fr/player/parserMySQL.php"),X=function(t){Object(p.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={hasPrimaryId:!1,hasSecondaryId:!1,isMediaLoaded:!1,isAnnotationsLoaded:!1,hasMediaError:!1,mediaError:{},hasAnnotationsError:!1,annotationsError:{},METADATA:{},MEDIAFILE:{},annotations:{},doi:"",images:[],displayOptions:{},langOptions:{transcriptions:[],translations:[]},options:{},isWordList:!1,timeList:[],urlFile:"",extensionFile:"",playerLoaded:!1},a}return Object(l.a)(n,[{key:"playerIsLoaded",value:function(){this.setState({playerLoaded:!0})}},{key:"getUrlParameter",value:function(t){return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+escape(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}},{key:"componentDidMount",value:function(){var t=this,e=this.getUrlParameter("oai_primary"),n=this.getUrlParameter("oai_secondary"),a=this.getUrlParameter("optionTextTranscriptions"),s=this.getUrlParameter("optionTextTranslations"),o=this.getUrlParameter("optionSentenceTranscriptions"),i=this.getUrlParameter("optionSentenceTranslations"),r=this.getUrlParameter("optionWordTranscriptions"),l=this.getUrlParameter("optionWordTranslations"),p=this.getUrlParameter("optionMorphemeTranscriptions"),c=this.getUrlParameter("optionMorphemeTranslations"),d=this.getUrlParameter("optionNotes"),h=this.getUrlParameter("lang").length>0?this.getUrlParameter("lang"):"fr",m=this.getUrlParameter("mode").length>0?this.getUrlParameter("mode"):"normal",u=this.getUrlParameter("continuousPlay").length>0&&"true"===this.getUrlParameter("continuousPlay"),y=window.location.hash;this.setState({displayOptions:{textTranscriptions:a.length>0?a.split("+"):[],textTranslations:s.length>0?s.split("+"):[],sentenceTranscriptions:o.length>0?o.split("+"):[],sentenceTranslations:i.length>0?i.split("+"):[],wordTranscriptions:r.length>0?r.split("+"):[],wordTranslations:l.length>0?l.split("+"):[],morphemeTranscriptions:p.length>0?p.split("+"):[],morphemeTranslations:c.length>0?c.split("+"):[],notes:d.length>0?d.split("+"):[],lang:h,mode:m,continuousPlay:u}});var E=new URLSearchParams(window.location.search),T="";(document.location.search.indexOf("lang")<0&&(E.set("lang",h.length>0?h:"fr"),T=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+E.toString(),window.history.pushState("test","",T)),document.location.search.indexOf("mode")<0&&(E.set("mode",m.length>0?m:"normal"),T=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+E.toString(),window.history.pushState("test","",T)),e.length>0&&(this.setState({hasPrimaryId:!0}),fetch(B+"?oai_primary="+e).then((function(t){return t.json()})).then((function(e){var n="",a="";null!=e.audio&&(n="audio",a=e.audio),null!=e.video&&(n="video",a=e.video),t.setState({isMediaLoaded:!0,METADATA:{data:e.metadata},MEDIAFILE:{type:n,url:a},images:e.images})}),(function(t){console.log(t)}))),n.length>0)&&(this.setState({hasSecondaryId:!0}),fetch(B+"?oai_secondary="+n+"&lang="+h).then((function(t){return t.json()})).then((function(e){if(console.log(e),null===e||void 0===e.annotations.TEXT&&void 0===e.annotations.WORDLIST)t.setState({isAnnotationsLoaded:!0,hasAnnotationsError:!0,annotationsError:"No result"});else{if(void 0!==e.annotations.WORDLIST&&null!==e.annotations.WORDLIST){var n=void 0!==e.annotations.WORDLIST.W&&null!==e.annotations.WORDLIST.W;window.isWordList=n}t.setState({langOptions:e.langues,options:e.typeOf,timeList:e.timeList,displayOptions:{textTranscriptions:document.location.search.indexOf("optionTextTranscriptions")>0?a.split("+"):[],textTranslations:document.location.search.indexOf("optionTextTranslations")>0?s.split("+"):[],sentenceTranscriptions:document.location.search.indexOf("optionSentenceTranscriptions")>0?o.split("+"):"pro"===m?Array.from(e.typeOf.sentence.transcriptions):[e.typeOf.sentence.transcriptions[0]],sentenceTranslations:document.location.search.indexOf("optionSentenceTranslations")>0?i.split("+"):"pro"===m?Array.from(e.typeOf.sentence.translations):[e.typeOf.sentence.translations[0]],wordTranscriptions:document.location.search.indexOf("optionWordTranscriptions")>0?r.split("+"):"pro"===m?Array.from(e.typeOf.word.transcriptions):n?[e.typeOf.word.transcriptions[0]]:[],wordTranslations:document.location.search.indexOf("optionWordTranslations")>0?l.split("+"):"pro"===m?Array.from(e.typeOf.word.translations):n?[e.typeOf.word.translations[0]]:[],morphemeTranscriptions:document.location.search.indexOf("optionMorphemeTranscriptions")>0?p.split("+"):"pro"===m?Array.from(e.typeOf.morpheme.transcriptions):n?[e.typeOf.morpheme.transcriptions[0]]:[],morphemeTranslations:document.location.search.indexOf("optionMorphemeTranslations")>0?c.split("+"):"pro"===m?Array.from(e.typeOf.morpheme.translations):n?[e.typeOf.morpheme.translations[0]]:[],notes:document.location.search.indexOf("optionNotes")>0?d.split("+"):[],lang:document.location.search.indexOf("lang")>0?h:"fr",mode:document.location.search.indexOf("mode")>0?m:"normal",continuousPlay:document.location.search.indexOf("continuousPlay")>0&&u},isAnnotationsLoaded:!0,annotations:e.annotations,doi:e.doi,isWordList:n,urlFile:e.urlFile,extensionFile:e.extensionFile,type:e.type,format:e.format}),y&&document.querySelector(y).scrollIntoView({block:"center"})}}),(function(t){console.log(t)})))}},{key:"render",value:function(){return s.a.createElement("div",{className:"App",key:"App"},this.state.hasPrimaryId?[this.state.isMediaLoaded?[this.state.hasMediaError?s.a.createElement(d.a,null,s.a.createElement("p",null,"Error executing request to OAI-PMH:"),s.a.createElement("p",null,"Code :",this.state.mediaError.code),s.a.createElement("p",null,"Details :",this.state.mediaError.text)):s.a.createElement(d.a,null,s.a.createElement(v,{file:this.state.MEDIAFILE,playerIsLoaded:this.playerIsLoaded.bind(this)}),this.state.hasSecondaryId?[this.state.isAnnotationsLoaded&&this.state.playerLoaded?[this.state.hasAnnotationsError?s.a.createElement(d.a,null,s.a.createElement("p",null,"Error getting annotations :"),s.a.createElement("p",null,"Code :",this.state.annotationsError.code),s.a.createElement("p",null,"Details :",this.state.annotationsError.text)):s.a.createElement("div",{key:this.state.doi},s.a.createElement(d.a,null,s.a.createElement(f,{displayOptions:this.state.displayOptions,options:this.state.options,langOptions:this.state.langOptions,isWordList:this.state.isWordList})),s.a.createElement(d.a,null,s.a.createElement(U,{type:this.state.type,format:this.state.format,urlFile:this.state.urlFile,extensionFile:this.state.extensionFile,timeList:this.state.timeList,doi:this.state.doi,availableOptions:this.state.options,displayOptions:this.state.displayOptions,annotations:this.state.annotations,images:this.state.images,video:"video"===this.state.MEDIAFILE.type})))]:s.a.createElement(h.a,{key:"CP primary"})]:s.a.createElement("div",null,"No Annotations"))]:s.a.createElement(h.a,{key:"CP secondary"})]:this.props.annotations?this.props.annotations:s.a.createElement("div",null,"No Media"))}}]),n}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+escape("lang").replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"));q=q.length>0?q:"fr",i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(O.a,{language:q,translation:{"Continuous play":{en:"Continuous play",fr:"Lecture en continu"},other:{en:"other",fr:"autre"},"Text transcription":{en:"Text transcription",fr:"Transcription du texte"},"Display options":{en:"Display options",fr:"Options d'affichage"},"Text translation":{en:"Text translation",fr:"Traduction du texte"},"Sentence transcription":{en:"Sentence transcription",fr:"Transcription des phrases"},"Sentence translation":{en:"Sentence translation",fr:"Traduction des phrases"},"Word transcription":{en:"Word transcription",fr:"Transcription des mots"},"Word translation":{en:"Word translation",fr:"Traduction des mots"},"Morpheme transcription":{en:"Morpheme transcription",fr:"Transcription des morph\xe8mes"},"Morpheme translation":{en:"Morpheme translation",fr:"Traduction des morph\xe8mes"},Words:{en:"Words",fr:"Mot \xe0 mot"}}},s.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.be8befa6.chunk.js.map